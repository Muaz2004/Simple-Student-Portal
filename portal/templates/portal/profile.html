{% extends "portal/layout.html" %}

{% block body %}
<div class="max-w-md mx-auto mt-6 p-6 bg-white rounded shadow">

    <h3 class="text-center text-xl font-bold mb-4">ðŸŽ“ Student Profile</h3>

    {% if profile %}
    <ul class="space-y-2">
        <li><strong>Name:</strong> {{ profile.name.username|default:"Not Found" }}</li>
        <li><strong>Department:</strong> {{ profile.department.dep_name|default:"Not Found" }}</li>
        <li><strong>Batch:</strong> {{ profile.department.acadamicyear|default:"Not Found" }}</li>
        <li><strong>CGPA:</strong> {{ profile.cgpa|default:"Not Found" }}</li>
    </ul>

    {% if profile.image %}
    <div class="mt-4 flex justify-center">
        <img src="{{ profile.image }}" alt="Student photo" class="rounded-full w-36 h-36 object-cover">
    </div>
    {% else %}
    <form action="{% url 'upload' %}" method="get" class="mt-4 space-y-2">
        <label for="imageUrl" class="block font-semibold">Enter image URL:</label>
        <input type="url" id="imageUrl" name="img" required
               class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400">
        <button type="submit" class="w-full bg-blue-600 text-white font-semibold py-2 rounded hover:bg-blue-700 transition">Upload</button>
    </form>
    {% endif %}

    {% else %}
    <p class="text-center text-red-600 font-semibold">Student profile not found.</p>
    {% endif %}
</div>
{% endblock %}
